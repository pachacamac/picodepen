<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>picodepen</title>
<style>
body,textarea,iframe{ margin:0; box-sizing:border-box; }
textarea,iframe { width:100%; height:50vh; float:left; }
textarea { color:#eee; background:#111; font-family:monospace; font-size:11pt; line-height:1.4; width:33.33%; }
#shareBtn { position:absolute; bottom:0; left:0; }
</style>
</head>
<body>
<iframe id="previewBox"></iframe>
<textarea id="htmlBox" placeholder="HTML"></textarea>
<textarea id="cssBox" placeholder="CSS"></textarea>
<textarea id="jsBox" placeholder="JS"></textarea>
<script>
function renderPreview(){
  previewBox.srcdoc = "<!DOCTYPE html>\n<html>\n<head>\n<meta charset='utf-8' />\n<style>\n"+cssBox.value+"\n</style>\n</head>\n<body>\n"+htmlBox.value+"\n<script>\n"+jsBox.value+"\n<\/script>\n<\/body>\n<\/html>";
}
document.body.oninput = function(){
  renderPreview();
  location.hash = encodeURIComponent(window.btoa(JSON.stringify({html: htmlBox.value, css: cssBox.value, js: jsBox.value})));
};
if(location.hash.length>1){
  var data = JSON.parse(window.atob(decodeURIComponent(location.hash.substr(1))));
  htmlBox.value = data.html;
  cssBox.value = data.css;
  jsBox.value = data.js;
}
renderPreview();
</script>
</body>
</html>


